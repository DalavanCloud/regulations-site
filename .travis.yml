language: python
python:
- '2.6'
- '2.7'
addons:
    sauce_connect:
        username: "cfpberegs"
        access_key:
            secure: "eiC+ZQysK2cU93Zxuq85NQLYPXthWgEdhrcjbcr5N/MtxMqw5iGWqP/12+BTdWgZfCsl+ZmBcwh3AbhcAquxmX7NhZSyw3wUy+mvjOFMaPx+GclrWtkJFFVkWHsQmMDXvFknmiRD6q4ebL5ceLihQLHaKbX5hDSZu8xOMRyAUGA="
install:
- pip install zc.buildout distribute selenium
- buildout
- echo "yes" | sudo add-apt-repository ppa:chris-lea/node.js
- sudo apt-get update
- sudo apt-get install nodejs phantomjs
- sudo npm install -g grunt-cli grunt-init bower
- sudo npm install
- bower install
- cp example-config.json config.json
script:
- ./require.sh
- ./bin/test
- ./dummy_api/start.sh
- echo 'API_BASE = "http://localhost:8282/"' >> regulations/settings/local_settings.py
- ./run_server.sh &
- sleep 5
- python regulations/tests/selenium/example_test.py
- grunt test
